image:
  repository: ddocker122/watcher-kpm-moni
  tag: latest
  pullPolicy: IfNotPresent

namespace: oai

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 200m
    memory: 256Mi

# Persistent storage settings
persistentVolume:
  enabled: true
  name: kpm-data-pv
  claimName: kpm-data-pvc
  size: 1Gi
  accessMode: ReadWriteOnce
  hostPath: /home/lapdk/workspace/oai-v210/helm-flexric/watcher-kpm-moni/data
  reclaimPolicy: Delete
  mountPath: /data

# Dynamic metrics configuration
metricsConfig:
  # This JSON defines all metrics and regex patterns
  # (escaped backslashes for Helm/YAML compatibility)
  metricsJson: |
    {
      "UE ID type": "UE ID type = ([\\w-]+)",
      "gnb_cu_cp_ue_e1ap": "gnb_cu_cp_ue_e1ap = (\\d+)",
      "gnb_cu_ue_f1ap": "gnb_cu_ue_f1ap = (\\d+)",
      "ran_ue_id": "ran_ue_id = (\\d+)",
      "DRB.PdcpSduVolumeDL": "DRB\\.PdcpSduVolumeDL = ([\\d.]+) \\[kb\\]",
      "DRB.PdcpSduVolumeUL": "DRB\\.PdcpSduVolumeUL = ([\\d.]+) \\[kb\\]",
      "DRB.RlcSduDelayDl": "DRB\\.RlcSduDelayDl = ([\\d.]+) \\[[Î¼u]s\\]",
      "DRB.UEThpDl": "DRB\\.UEThpDl = ([\\d.]+) \\[kbps\\]",
      "DRB.UEThpUl": "DRB\\.UEThpUl = ([\\d.]+) \\[kbps\\]",
      "RRU.PrbTotDl": "RRU\\.PrbTotDl = ([\\d.]+) \\[PRBs\\]",
      "RRU.PrbTotUl": "RRU\\.PrbTotUl = ([\\d.]+) \\[PRBs\\]"
    }
